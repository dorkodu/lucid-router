let t,n,o="/",e=[],c=[];function i(i){switch(t){case"hash":if(i)return o=i,void(window.location.hash=o);{const t=window.location.hash.substring(1);""!==t&&"/"!==t&&(o=t)}break;case"history":break;default:return}for(let n=0;n<c.length;++n){const e=o.match(c[n].from);if(e){const i=o;c[n].cb&&c[n].cb(...e.slice(1));if(i!==o)return;if("hash"===t)return void(window.location.hash=c[n].to)}}for(let t=0;t<e.length;++t){const n=o.match(e[t].pattern);if(n)return void(e[t].cb&&e[t].cb(...n.slice(1)))}n&&n()}const r={run:function(n,o){t=n,o&&o(),"hash"===n&&window.addEventListener("hashchange",(()=>{i()})),i()},to:i,route:function(t,n){e.push({pattern:new RegExp("^"+t+"$","i"),cb:n})},redirect:function(t,n,o){c.push({from:new RegExp("^"+t+"$","i"),to:n,cb:o})},fallback:function(t){n=t}};export{r as superpage};
